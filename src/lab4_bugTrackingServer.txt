openapi: 3.0.0
servers:
  - description: Bug tracking server
    url: 192.168.1.249:8080

info:
  description: This is a realization of bug tracking server protocol in swagger.
  version: "1.0.0"
  title: "Bugtracking server in swagger."
  contact:
    email: "gedar0082@gmail.com"
tags:
  - name: all
    description: for all
  - name: dev
    description: for devs
  - name: tester
    description: for testers
paths:
  /authorize:
    post:
      tags:
        - all
      summary: authorization
      operationId: authirize
      description: |
              testers and devs are already registered, so this is only authorization
      parameters:
        - in: query
          name: name
          description: name of dev/tester
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Good authorize
          content:
            application/json:
              schema:
                type: string
        '400':
          description: Authorization error
  /getBugs:
    get:
      tags:
        - tester
      summary: get open/closed bugs
      operationId: getBugs
      responses:
        '200':
          description: Successfull
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Bug'
        '400':
          description: Can not get bugs
  /postBug:
    post:
      tags:
        - tester
      summary: post if you find a bug
      operationId: postBug
      parameters:
        - in: query
          name: bug
          required: true
          schema:
            $ref: '#/components/schemas/Bug'
      responses:
        '200':
          description: Successfull
        '400':
          description: Error
  /confirmFix:
    post:
      tags:
        - tester
      summary: confirm if dev has fixed a bug
      operationId: confirmFix
      parameters:
        - in: query
          name: id
          description: bug id
          required: true
          schema:
            type: integer
        - in: query
          name: confirm
          description: "yes or no"
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Successfull
        '400':
          description: Somefing went wrong
  /getDevBugs:
    get:
      tags:
        - dev
      summary: get dev`s bugs
      operationId: fetDevBugs
      responses:
        '200':
          description: Successfull
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Bug'
        '400':
          description: Something went wrong
  /fix:
    post:
      tags:
        - dev
      summary: fix the bug
      operationId: fix
      parameters:
        - in: query
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Successfull
        '400':
          description: Something went wrong
  
    
components:
  schemas:
    Bug:
      type: object
      required:
        - id
        - proj
        - text
        - dev
      properties:
        id:
          type: integer
          format: uuid
        proj:
          type: string
          example: "shop database"
        text:
          type: string
          example: "fix the client table"
        dev:
          type: string
          example: "john doe"

externalDocs:
  description: "README"
  url: "https://github.com/insysnw/2020H2/pull/87"